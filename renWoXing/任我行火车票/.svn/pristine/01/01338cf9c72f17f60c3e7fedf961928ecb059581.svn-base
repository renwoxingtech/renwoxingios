//
//  NormalOrderVc.m
//  CommonProject
//
//  Created by mac on 2017/2/14.
//  Copyright © 2017年 mac. All rights reserved.
//

#import "NormalOrderVc.h"

@interface NormalOrderVc ()
{
    NSInteger cur_tag;
    NSInteger cur_index;
    

}
@end

@implementation OrderCell


@end
@implementation QPOrderCell



@end

@implementation NormalOrderVc

- (void)viewDidLoad {
    [super viewDidLoad];


    self.title = @"订单";
    for (int i=0; i<2; i++) {
        NSMutableArray *a = [NSMutableArray array];
        for (int j=0; j<3; j++) {
            NSMutableArray *b = [NSMutableArray array];
            [a addObject:b];
            
            [b addObject:[[OrderData alloc]init]];
        }
        [self.mainDataSource addObject:a];
    }
    
    
    self.tipView.hidden = YES;
    if (self.isQpdd) {
        self.taggbgView.hidden = YES;
        self.tipView.hidden = NO;
        self.tipView.top = 64+45;
        
    }
}
- (IBAction)tagclick:(UIButton *)sender {
    [UIView animateWithDuration:0.3 animations:^{
        self.tagbggo.centerX = sender.centerX;
        
    }];

    
    if ([sender isEqual:self.renxingddbtn]) {
        cur_tag = 0;
    }else{
        cur_tag = 1;
    }
    [self.mainTableView reloadData];
}
- (IBAction)titlebtnclick:(UIButton *)sender {
    [UIView animateWithDuration:0.3 animations:^{
        
        self.titlebggo.centerX = sender.centerX;
        
    }];
    
    
    [self.qbdd setTitleColor:[UIColor darkGrayColor] forState:UIControlStateNormal];
    [self.yzfdd setTitleColor:[UIColor darkGrayColor] forState:UIControlStateNormal];
    [self.wzfdd setTitleColor:[UIColor darkGrayColor] forState:UIControlStateNormal];

    [sender setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];

    if ([sender isEqual:self.qbdd]) {
        cur_index = 0;
    }else if ([sender isEqual:self.yzfdd]) {
        cur_index = 1;
    }else if ([sender isEqual:self.wzfdd]) {
        cur_index = 2;
    }    
    [self.mainTableView reloadData];

}
-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath{
    if (_isQpdd) {
        return 275;
    }
    return 140;
}
-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{
    if (_isQpdd) {
        return 2;
    }
    if (cur_tag<self.mainDataSource.count) {
        
        NSArray *a  = self.mainDataSource[cur_tag];
        NSArray *b  = a[cur_index];
        return b.count;
    }
    return 0;
}
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
    if (self.isQpdd) {
        QPOrderCell *cell = [tableView dequeueReusableCellWithIdentifier:@"qpordercell"];

        cell.qpjieguo.layer.cornerRadius = 4;
        cell.qpxinxi.layer.masksToBounds = YES;
        
        return cell;
        
    }else{
        OrderCell *cell = [tableView dequeueReusableCellWithIdentifier:@"ordercell"];
        cell.selectionStyle = UITableViewCellSelectionStyleNone;
        
        @try {
            NSArray *a  = self.mainDataSource[cur_tag];
            NSArray *b  = a[cur_index];
            OrderData *data = b[indexPath.row];
            
            
        } @catch (NSException *exception) {
            
        } @finally {
            
        }
        
        
        
        cell.quxiaobtn.hidden = YES;
        cell.zfbtn.hidden = YES;
        return cell;

    }
}


@end
